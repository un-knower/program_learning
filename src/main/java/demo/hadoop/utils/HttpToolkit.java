package demo.hadoop.utils;

import java.util.ArrayList;
import java.util.List;
import java.util.Map;

import org.apache.commons.lang.StringUtils;
import org.apache.http.HttpEntity;
import org.apache.http.NameValuePair;
import org.apache.http.client.config.RequestConfig;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.CloseableHttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.entity.ByteArrayEntity;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClientBuilder;
import org.apache.http.message.BasicNameValuePair;
import org.apache.http.util.EntityUtils;

/**
 * 基于 httpclient 4.3.1版本的http工具类
 * @author administrator
 *
 */
public class HttpToolkit {
	private static final CloseableHttpClient httpClient;
	public static final String CHARSET="UTF-8";
	static {
		RequestConfig config = RequestConfig.custom().setConnectTimeout(60000).setSocketTimeout(15000).build();
		httpClient = HttpClientBuilder.create().setDefaultRequestConfig(config).build();
	}
	public static String doGet(String url,Map<String, String> params) {
		return doGet(url,params,CHARSET);
	}
	
	public static String doPost(String url,Map<String, String> params) {
		return doPost(url,params,CHARSET);
	}
	
	/**
     * HTTP Get 获取内容
     * @param url  请求的url地址 ?之前的地址
     * @param params 请求的参数,Map格式
     * @param charset    编码格式
     * @return    页面内容
     */
	private static String doGet(String url, Map<String, String> params,
			String charset) {
		if(StringUtils.isBlank(url)) {
			return null;
		}
		try{
			if(params!=null && !params.isEmpty()) {
				List<NameValuePair> pairs = new ArrayList<NameValuePair>(params.size());
				for(Map.Entry<String, String> entry:params.entrySet()) {
					String value = entry.getValue();
					if(value!=null) {
						pairs.add(new BasicNameValuePair(entry.getKey(), value));
					}
				}//for
				url +="?"+EntityUtils.toString(new UrlEncodedFormEntity(pairs,charset));
			}
			HttpGet httpGet = new HttpGet(url);//
			CloseableHttpResponse response = httpClient.execute(httpGet);
			int statusCode = response.getStatusLine().getStatusCode();
			if(statusCode!=200) {
				httpGet.abort();//终止
				throw new RuntimeException("HttpClient,error status code : "+statusCode);
			}
			HttpEntity entity = response.getEntity();
			String result=null;
			if(entity!=null) {
				result = EntityUtils.toString(entity,"utf-8");
			}
			EntityUtils.consume(entity);
			response.close();
			return result;
		}catch(Exception e) {
			e.printStackTrace();
		}
		return null;
	}
	
	/**
     * HTTP Post 获取内容
     * @param url  请求的url地址 ?之前的地址
     * @param params 请求的参数
     * @param charset    编码格式
     * @return    页面内容
     */
	private static String doPost(String url, Map<String, String> params,
			String charset) {
		if (StringUtils.isBlank(url)) {
			return null;
		}
		try {
			//暂时没有意义
			List<NameValuePair> pairs = null;
			if (params != null && !params.isEmpty()) {
				pairs = new ArrayList<NameValuePair>(params.size());
				for(Map.Entry<String, String> entry:params.entrySet()) {
					String value = entry.getValue();
					if(value!=null) {
						pairs.add(new BasicNameValuePair(entry.getKey(), value));
					}
				}
			}
			
			
			
			
			HttpPost httpPost = new HttpPost(url);
			if(pairs!=null && pairs.size()>0) {
				System.out.println("{}      {\"star\":{\"王珂\":4.508359084883856,\"王新\":4.508359084883856,\"林建中\":4.508359084883856,\"周楚楚\":4.505456859689672,\"邹涵虹\":4.505456859689672,\"邹娜\":4.505456859689672,\"林爽\":4.505456859689672,\"段奕宏\":3.67208633398841,\"康洪雷\":3.67208633398841,\"张国强\":3.67208633398841,\"张译\":3.67208633398841,\"王宝强\":3.67208633398841,\"公磊\":2.9710750961185406,\"王伟\":2.9710750961185406,\"陈丽娜\":2.9710750961185406,\"韦大军\":2.9710750961185406,\"盖克\":2.9710750961185406,\"刘家良\":2.9710750961185406,\"耿乐\":2.9710750961185406,\"张澎澎\":1.885762751078108,\"任柯诺\":1.885762751078108,\"黄文利\":1.885762751078108,\"周惠林\":1.885762751078108,\"傅程鹏\":1.885762751078108,\"王霏\":1.885762751078108,\"夏侯镔\":1.885762751078108,\"侯梦莎\":1.885762751078108,\"齐芳\":0.8307672973788665,\"曾丽珍\":0.8307672973788665,\"谭凯\":0.8307672973788665,\"李小冉\":0.8307672973788665,\"钟汉良\":0.8307672973788665,\"于小磊\":0.23164881057603864,\"左金珠\":0.23164881057603864,\"陈亚洲\":0.23164881057603864,\"钱泳辰\":0.23164881057603864,\"尹铸胜\":0.23164881057603864,\"蒋欣\":0.23164881057603864,\"王韦智\":0.019937483471143568,\"范志博\":0.019937483471143568,\"舒崇福\":0.019937483471143568,\"马以\":0.019937483471143568,\"王同辉\":0.019937483471143568,\"胡可\":0.019937483471143568,\"黑子\":0.019937483471143568,\"徐纪周\":0.012413461989609041,\"姚芊羽\":0.012413461989609041,\"徐以若\":0.012413461989609041,\"张博\":0.012413461989609041,\"邢佳栋\":0.012413461989609041,\"张双利\":0.0029022251941841475,\"谢承均\":0.0029022251941841475,\"王挺\":0.0029022251941841475,\"谢孟伟\":0.0029022251941841475},\"tv\":{\"女子炸弹部队2\":7.884549504456927,\"女子炸弹英雄\":6.7581852895345085,\"女子动队\":5.631821074612088,\"暗刺\":4.505456859689672,\"铁血使命\":4.505456859689672,\"英雄使命\":4.505456859689672,\"士兵突击\":3.67208633398841,\"铁核桃\":1.885762751078108,\"来不及说我爱你\":1.4538427704130166,\"亚丁湾的月亮\":0.02990622520671535,\"舰在亚丁湾\":0.024921854338929465,\"战雷\":0.012413461989609041,\"英雄联盟\":0.0029022251941841475}}        1091538,1;20540,1;1367070,1;2319411,1;1091512,1;1106116,1;2189366,1;2299439,1;2319429,1;2195029,1;2299429,1;20502,1;2319420,1;1106178,1;2315784,1;2315784,1;1106166,1;20502,1;20506,1;20512,1;20526,1;20532,1;20538,1;20544,1;2301081,1;1106198,1;1106221,1;1106134,1;2299435,1;20492,1;1091519,1;20536,1;20524,1;20536,1;20542,1;20548,1;1091028,1;20520,1;1106218,1;2292477,1;2292471,1;20540,1;20516,1;20526,1;2322555,1;2299439,1;1091532,1;2322555,1;1091028,1;2315778,1;1106187,1;2315790,1;20504,1;1177678,1;1106128,1;2195029,1;2315754,1;1106193,1;2315748,1;2319423,1;1106097,1;1091486,1;2315766,1;20494,1;1977365,1;155862,1;2315757,1;2292474,1;1106212,1;1091014,1;20510,1;2315781,1;2319432,1;1091492,1;2297843,1;1091501,1;156668,1;1106102,1;2292474,1;2315748,1;2315793,1;1106097,1;1106204,1;2294942,1;2319426,1;1106105,1;2315751,1;2294933,1;2299416,1;2195031,1;2315772,1;20502,1;20504,1;20504,1;20504,1;1091028,1;20518,1;156673,1;2195029,1;20510,1;2315781,1;20508,1;2294939,1;1367070,1;1091498,1;1106112,1;2017431,1;2319420,1;1106123,1;2319420,1;2294936,1;2315763,1;2322558,1;2322552,1;1091495,1;1091028,1;20508,1;20522,1;20528,1;2322555,1;20500,1;2292471,1;2292471,1;2294936,1;1091492,1;2292471,1;20518,1;20524,1;20532,1;20538,1;20550,1;2315775,1;2315787,1;2315757,1;2294933,1;2322567,1;2322561,1;20530,1;20530,1;1106123,1;1106092,1;2322552,1;1091489,1;2292480,1;1106221,1;2322567,1;1091495,1;2315751,1;2322564,1;20496,1;1106092,1;714154,1;20498,1;1106092,1;155842,1;2315784,1;156693,1;1106166,1;2315784,1;2319423,1;20508,1;20540,1;2319423,1;20508,1;1106116,1;2299429,1;20530,1;1091018,1;2292471,1;1106162,1;1091519,1;1091508,1;2315760,1;2195031,1;2319414,1;1091516,1;1091014,1;1091481,1;2315763,1;2297839,1;1091529,1;1091522,1;1106131,1;2322561,1;1106134,1;2315760,1;1106162,1;2319417,1;2315793,1;20546,1;1091538,1;2294939,1;20546,1;156711,1;1977365,1;156689,1;2315754,1;2294942,1;20508,1;2297839,1;1106218,1;1091519,1;");
				ByteArrayEntity bentity = new ByteArrayEntity("{}	{\"star\":{\"王珂\":4.508359084883856,\"王新\":4.508359084883856,\"林建中\":4.508359084883856,\"周楚楚\":4.505456859689672,\"邹涵虹\":4.505456859689672,\"邹娜\":4.505456859689672,\"林爽\":4.505456859689672,\"段奕宏\":3.67208633398841,\"康洪雷\":3.67208633398841,\"张国强\":3.67208633398841,\"张译\":3.67208633398841,\"王宝强\":3.67208633398841,\"公磊\":2.9710750961185406,\"王伟\":2.9710750961185406,\"陈丽娜\":2.9710750961185406,\"韦大军\":2.9710750961185406,\"盖克\":2.9710750961185406,\"刘家良\":2.9710750961185406,\"耿乐\":2.9710750961185406,\"张澎澎\":1.885762751078108,\"任柯诺\":1.885762751078108,\"黄文利\":1.885762751078108,\"周惠林\":1.885762751078108,\"傅程鹏\":1.885762751078108,\"王霏\":1.885762751078108,\"夏侯镔\":1.885762751078108,\"侯梦莎\":1.885762751078108,\"齐芳\":0.8307672973788665,\"曾丽珍\":0.8307672973788665,\"谭凯\":0.8307672973788665,\"李小冉\":0.8307672973788665,\"钟汉良\":0.8307672973788665,\"于小磊\":0.23164881057603864,\"左金珠\":0.23164881057603864,\"陈亚洲\":0.23164881057603864,\"钱泳辰\":0.23164881057603864,\"尹铸胜\":0.23164881057603864,\"蒋欣\":0.23164881057603864,\"王韦智\":0.019937483471143568,\"范志博\":0.019937483471143568,\"舒崇福\":0.019937483471143568,\"马以\":0.019937483471143568,\"王同辉\":0.019937483471143568,\"胡可\":0.019937483471143568,\"黑子\":0.019937483471143568,\"徐纪周\":0.012413461989609041,\"姚芊羽\":0.012413461989609041,\"徐以若\":0.012413461989609041,\"张博\":0.012413461989609041,\"邢佳栋\":0.012413461989609041,\"张双利\":0.0029022251941841475,\"谢承均\":0.0029022251941841475,\"王挺\":0.0029022251941841475,\"谢孟伟\":0.0029022251941841475},\"tv\":{\"女子炸弹部队2\":7.884549504456927,\"女子炸弹英雄\":6.7581852895345085,\"女子动队\":5.631821074612088,\"暗刺\":4.505456859689672,\"铁血使命\":4.505456859689672,\"英雄使命\":4.505456859689672,\"士兵突击\":3.67208633398841,\"铁核桃\":1.885762751078108,\"来不及说我爱你\":1.4538427704130166,\"亚丁湾的月亮\":0.02990622520671535,\"舰在亚丁湾\":0.024921854338929465,\"战雷\":0.012413461989609041,\"英雄联盟\":0.0029022251941841475}}	1091538,1;20540,1;1367070,1;2319411,1;1091512,1;1106116,1;2189366,1;2299439,1;2319429,1;2195029,1;2299429,1;20502,1;2319420,1;1106178,1;2315784,1;2315784,1;1106166,1;20502,1;20506,1;20512,1;20526,1;20532,1;20538,1;20544,1;2301081,1;1106198,1;1106221,1;1106134,1;2299435,1;20492,1;1091519,1;20536,1;20524,1;20536,1;20542,1;20548,1;1091028,1;20520,1;1106218,1;2292477,1;2292471,1;20540,1;20516,1;20526,1;2322555,1;2299439,1;1091532,1;2322555,1;1091028,1;2315778,1;1106187,1;2315790,1;20504,1;1177678,1;1106128,1;2195029,1;2315754,1;1106193,1;2315748,1;2319423,1;1106097,1;1091486,1;2315766,1;20494,1;1977365,1;155862,1;2315757,1;2292474,1;1106212,1;1091014,1;20510,1;2315781,1;2319432,1;1091492,1;2297843,1;1091501,1;156668,1;1106102,1;2292474,1;2315748,1;2315793,1;1106097,1;1106204,1;2294942,1;2319426,1;1106105,1;2315751,1;2294933,1;2299416,1;2195031,1;2315772,1;20502,1;20504,1;20504,1;20504,1;1091028,1;20518,1;156673,1;2195029,1;20510,1;2315781,1;20508,1;2294939,1;1367070,1;1091498,1;1106112,1;2017431,1;2319420,1;1106123,1;2319420,1;2294936,1;2315763,1;2322558,1;2322552,1;1091495,1;1091028,1;20508,1;20522,1;20528,1;2322555,1;20500,1;2292471,1;2292471,1;2294936,1;1091492,1;2292471,1;20518,1;20524,1;20532,1;20538,1;20550,1;2315775,1;2315787,1;2315757,1;2294933,1;2322567,1;2322561,1;20530,1;20530,1;1106123,1;1106092,1;2322552,1;1091489,1;2292480,1;1106221,1;2322567,1;1091495,1;2315751,1;2322564,1;20496,1;1106092,1;714154,1;20498,1;1106092,1;155842,1;2315784,1;156693,1;1106166,1;2315784,1;2319423,1;20508,1;20540,1;2319423,1;20508,1;1106116,1;2299429,1;20530,1;1091018,1;2292471,1;1106162,1;1091519,1;1091508,1;2315760,1;2195031,1;2319414,1;1091516,1;1091014,1;1091481,1;2315763,1;2297839,1;1091529,1;1091522,1;1106131,1;2322561,1;1106134,1;2315760,1;1106162,1;2319417,1;2315793,1;20546,1;1091538,1;2294939,1;20546,1;156711,1;1977365,1;156689,1;2315754,1;2294942,1;20508,1;2297839,1;1106218,1;1091519,1;".getBytes(CHARSET));
//				StringEntity bentity = new StringEntity("{\"cate\":{\"音乐_MV\":0.5457934651147621},\"star\":{\"何晟铭\":0.5457934651147621},\"tag\":{\"逆相思\":0.5457934651147621,\"男歌手\":0.5457934651147621,\"内地\":0.5457934651147621}}",CHARSET);
				bentity.setContentEncoding(CHARSET);
				bentity.setContentType("application/json");
				httpPost.setHeader("accept", "application/json");
				httpPost.setHeader("Content-Type", "application/json;charset=UTF-8");
				httpPost.setEntity(bentity);//
			}
			CloseableHttpResponse response = httpClient.execute(httpPost);
			int statusCode = response.getStatusLine().getStatusCode();
			if(statusCode!=200) {
				httpPost.abort();
				throw new RuntimeException("HttpClient,error status code : "+statusCode);
			}
			HttpEntity entity = response.getEntity();
			String result = null;
			if(entity!=null) {
				result = EntityUtils.toString(entity,"utf-8");
			}
			EntityUtils.consume(entity);
			response.close();
			return result;
		} catch (Exception e) {
			e.printStackTrace();
		}
		return null;
	}
	/**
	 * HTTP Post 获取内容
	 * @param url  请求的url地址 ?之前的地址
	 * @param params 请求的参数
	 * @param charset    编码格式
	 * @return    页面内容
	 */
	private static String doPost(String url, String params,String charset) {
		if (StringUtils.isBlank(url)) {
			return null;
		}
		try {
			
			
			HttpPost httpPost = new HttpPost(url);
			if(params!=null && !"".equals(params)) {
				//System.out.println("{}      {\"star\":{\"王珂\":4.508359084883856,\"王新\":4.508359084883856,\"林建中\":4.508359084883856,\"周楚楚\":4.505456859689672,\"邹涵虹\":4.505456859689672,\"邹娜\":4.505456859689672,\"林爽\":4.505456859689672,\"段奕宏\":3.67208633398841,\"康洪雷\":3.67208633398841,\"张国强\":3.67208633398841,\"张译\":3.67208633398841,\"王宝强\":3.67208633398841,\"公磊\":2.9710750961185406,\"王伟\":2.9710750961185406,\"陈丽娜\":2.9710750961185406,\"韦大军\":2.9710750961185406,\"盖克\":2.9710750961185406,\"刘家良\":2.9710750961185406,\"耿乐\":2.9710750961185406,\"张澎澎\":1.885762751078108,\"任柯诺\":1.885762751078108,\"黄文利\":1.885762751078108,\"周惠林\":1.885762751078108,\"傅程鹏\":1.885762751078108,\"王霏\":1.885762751078108,\"夏侯镔\":1.885762751078108,\"侯梦莎\":1.885762751078108,\"齐芳\":0.8307672973788665,\"曾丽珍\":0.8307672973788665,\"谭凯\":0.8307672973788665,\"李小冉\":0.8307672973788665,\"钟汉良\":0.8307672973788665,\"于小磊\":0.23164881057603864,\"左金珠\":0.23164881057603864,\"陈亚洲\":0.23164881057603864,\"钱泳辰\":0.23164881057603864,\"尹铸胜\":0.23164881057603864,\"蒋欣\":0.23164881057603864,\"王韦智\":0.019937483471143568,\"范志博\":0.019937483471143568,\"舒崇福\":0.019937483471143568,\"马以\":0.019937483471143568,\"王同辉\":0.019937483471143568,\"胡可\":0.019937483471143568,\"黑子\":0.019937483471143568,\"徐纪周\":0.012413461989609041,\"姚芊羽\":0.012413461989609041,\"徐以若\":0.012413461989609041,\"张博\":0.012413461989609041,\"邢佳栋\":0.012413461989609041,\"张双利\":0.0029022251941841475,\"谢承均\":0.0029022251941841475,\"王挺\":0.0029022251941841475,\"谢孟伟\":0.0029022251941841475},\"tv\":{\"女子炸弹部队2\":7.884549504456927,\"女子炸弹英雄\":6.7581852895345085,\"女子动队\":5.631821074612088,\"暗刺\":4.505456859689672,\"铁血使命\":4.505456859689672,\"英雄使命\":4.505456859689672,\"士兵突击\":3.67208633398841,\"铁核桃\":1.885762751078108,\"来不及说我爱你\":1.4538427704130166,\"亚丁湾的月亮\":0.02990622520671535,\"舰在亚丁湾\":0.024921854338929465,\"战雷\":0.012413461989609041,\"英雄联盟\":0.0029022251941841475}}        1091538,1;20540,1;1367070,1;2319411,1;1091512,1;1106116,1;2189366,1;2299439,1;2319429,1;2195029,1;2299429,1;20502,1;2319420,1;1106178,1;2315784,1;2315784,1;1106166,1;20502,1;20506,1;20512,1;20526,1;20532,1;20538,1;20544,1;2301081,1;1106198,1;1106221,1;1106134,1;2299435,1;20492,1;1091519,1;20536,1;20524,1;20536,1;20542,1;20548,1;1091028,1;20520,1;1106218,1;2292477,1;2292471,1;20540,1;20516,1;20526,1;2322555,1;2299439,1;1091532,1;2322555,1;1091028,1;2315778,1;1106187,1;2315790,1;20504,1;1177678,1;1106128,1;2195029,1;2315754,1;1106193,1;2315748,1;2319423,1;1106097,1;1091486,1;2315766,1;20494,1;1977365,1;155862,1;2315757,1;2292474,1;1106212,1;1091014,1;20510,1;2315781,1;2319432,1;1091492,1;2297843,1;1091501,1;156668,1;1106102,1;2292474,1;2315748,1;2315793,1;1106097,1;1106204,1;2294942,1;2319426,1;1106105,1;2315751,1;2294933,1;2299416,1;2195031,1;2315772,1;20502,1;20504,1;20504,1;20504,1;1091028,1;20518,1;156673,1;2195029,1;20510,1;2315781,1;20508,1;2294939,1;1367070,1;1091498,1;1106112,1;2017431,1;2319420,1;1106123,1;2319420,1;2294936,1;2315763,1;2322558,1;2322552,1;1091495,1;1091028,1;20508,1;20522,1;20528,1;2322555,1;20500,1;2292471,1;2292471,1;2294936,1;1091492,1;2292471,1;20518,1;20524,1;20532,1;20538,1;20550,1;2315775,1;2315787,1;2315757,1;2294933,1;2322567,1;2322561,1;20530,1;20530,1;1106123,1;1106092,1;2322552,1;1091489,1;2292480,1;1106221,1;2322567,1;1091495,1;2315751,1;2322564,1;20496,1;1106092,1;714154,1;20498,1;1106092,1;155842,1;2315784,1;156693,1;1106166,1;2315784,1;2319423,1;20508,1;20540,1;2319423,1;20508,1;1106116,1;2299429,1;20530,1;1091018,1;2292471,1;1106162,1;1091519,1;1091508,1;2315760,1;2195031,1;2319414,1;1091516,1;1091014,1;1091481,1;2315763,1;2297839,1;1091529,1;1091522,1;1106131,1;2322561,1;1106134,1;2315760,1;1106162,1;2319417,1;2315793,1;20546,1;1091538,1;2294939,1;20546,1;156711,1;1977365,1;156689,1;2315754,1;2294942,1;20508,1;2297839,1;1106218,1;1091519,1;");
				ByteArrayEntity bentity = new ByteArrayEntity(params.getBytes(CHARSET));
//				StringEntity bentity = new StringEntity("{\"cate\":{\"音乐_MV\":0.5457934651147621},\"star\":{\"何晟铭\":0.5457934651147621},\"tag\":{\"逆相思\":0.5457934651147621,\"男歌手\":0.5457934651147621,\"内地\":0.5457934651147621}}",CHARSET);
				bentity.setContentEncoding(CHARSET);
				bentity.setContentType("application/json");
				httpPost.setHeader("accept", "application/json");
				httpPost.setHeader("Content-Type", "application/json;charset=UTF-8");
				httpPost.setEntity(bentity);//
			}
			CloseableHttpResponse response = httpClient.execute(httpPost);
			int statusCode = response.getStatusLine().getStatusCode();
			if(statusCode!=200) {
				httpPost.abort();
				throw new RuntimeException("HttpClient,error status code : "+statusCode);
			}
			HttpEntity entity = response.getEntity();
			String result = null;
			if(entity!=null) {
				result = EntityUtils.toString(entity,"utf-8");
			}
			EntityUtils.consume(entity);
			response.close();
			return result;
		} catch (Exception e) {
			e.printStackTrace();
		}
		return null;
	}
	
	public static void main(String[] args) {
//		String getData=doGet("http://hc.apache.org/", null);
//		System.out.println(getData);
//		System.out.println("----------------------分割线-----------------------");
//        String postData = doPost("http://hc.apache.org/",null);
//        System.out.println(postData);
//		  System.out.println("----------------------分割线-----------------------");
//        Map<String, String> params = new HashMap<>();
//        params.put("json", "{\"star\":{\"梁胜权\":0.7587766140236542,\"贾青\":0.7587766140236542,\"黄俊文\":0.7587766140236542,\"吴映洁\":0.7587766140236542,\"杨洋\":0.7587766140236542,\"张钧甯\":0.7587766140236542,\"茅子俊\":0.7587766140236542,\"陈伟霆\":0.7587766140236542,\"何晟铭\":0.7587766140236542,\"张翰\":0.7587766140236542,\"佟大为\":0.22590059789825967,\"韩童生\":0.22590059789825967,\"潘虹\":0.22590059789825967,\"姚晓峰\":0.22590059789825967,\"董洁\":0.22590059789825967,\"纪姿含\":0.22590059789825967,\"赵薇\":0.22590059789825967},\"tv\":{\"少年四大名捕2015\":1.8969415350591357,\"少年四大名捕（2015）\":1.4267536842945883,\"少年四大名捕\":1.1381649210354812,\"内地版少年四大名捕\":1.0700652632209413,\"少年四大名捕（2015）片花\":0.9911721840724366,\"少年四大名捕片花\":0.5663841051842493,\"四大名捕\":0.47558456143152944,\"虎妈猫爸片花\":0.33885089684738945,\"虎妈猫爸\":0.22590059789825967}}");
		String params="{}	{\"star\":{\"王珂\":4.508359084883856,\"王新\":4.508359084883856,\"林建中\":4.508359084883856,\"周楚楚\":4.505456859689672,\"邹涵虹\":4.505456859689672,\"邹娜\":4.505456859689672,\"林爽\":4.505456859689672,\"段奕宏\":3.67208633398841,\"康洪雷\":3.67208633398841,\"张国强\":3.67208633398841,\"张译\":3.67208633398841,\"王宝强\":3.67208633398841,\"公磊\":2.9710750961185406,\"王伟\":2.9710750961185406,\"陈丽娜\":2.9710750961185406,\"韦大军\":2.9710750961185406,\"盖克\":2.9710750961185406,\"刘家良\":2.9710750961185406,\"耿乐\":2.9710750961185406,\"张澎澎\":1.885762751078108,\"任柯诺\":1.885762751078108,\"黄文利\":1.885762751078108,\"周惠林\":1.885762751078108,\"傅程鹏\":1.885762751078108,\"王霏\":1.885762751078108,\"夏侯镔\":1.885762751078108,\"侯梦莎\":1.885762751078108,\"齐芳\":0.8307672973788665,\"曾丽珍\":0.8307672973788665,\"谭凯\":0.8307672973788665,\"李小冉\":0.8307672973788665,\"钟汉良\":0.8307672973788665,\"于小磊\":0.23164881057603864,\"左金珠\":0.23164881057603864,\"陈亚洲\":0.23164881057603864,\"钱泳辰\":0.23164881057603864,\"尹铸胜\":0.23164881057603864,\"蒋欣\":0.23164881057603864,\"王韦智\":0.019937483471143568,\"范志博\":0.019937483471143568,\"舒崇福\":0.019937483471143568,\"马以\":0.019937483471143568,\"王同辉\":0.019937483471143568,\"胡可\":0.019937483471143568,\"黑子\":0.019937483471143568,\"徐纪周\":0.012413461989609041,\"姚芊羽\":0.012413461989609041,\"徐以若\":0.012413461989609041,\"张博\":0.012413461989609041,\"邢佳栋\":0.012413461989609041,\"张双利\":0.0029022251941841475,\"谢承均\":0.0029022251941841475,\"王挺\":0.0029022251941841475,\"谢孟伟\":0.0029022251941841475},\"tv\":{\"女子炸弹部队2\":7.884549504456927,\"女子炸弹英雄\":6.7581852895345085,\"女子动队\":5.631821074612088,\"暗刺\":4.505456859689672,\"铁血使命\":4.505456859689672,\"英雄使命\":4.505456859689672,\"士兵突击\":3.67208633398841,\"铁核桃\":1.885762751078108,\"来不及说我爱你\":1.4538427704130166,\"亚丁湾的月亮\":0.02990622520671535,\"舰在亚丁湾\":0.024921854338929465,\"战雷\":0.012413461989609041,\"英雄联盟\":0.0029022251941841475}}	1091538,1;20540,1;1367070,1;2319411,1;1091512,1;1106116,1;2189366,1;2299439,1;2319429,1;2195029,1;2299429,1;20502,1;2319420,1;1106178,1;2315784,1;2315784,1;1106166,1;20502,1;20506,1;20512,1;20526,1;20532,1;20538,1;20544,1;2301081,1;1106198,1;1106221,1;1106134,1;2299435,1;20492,1;1091519,1;20536,1;20524,1;20536,1;20542,1;20548,1;1091028,1;20520,1;1106218,1;2292477,1;2292471,1;20540,1;20516,1;20526,1;2322555,1;2299439,1;1091532,1;2322555,1;1091028,1;2315778,1;1106187,1;2315790,1;20504,1;1177678,1;1106128,1;2195029,1;2315754,1;1106193,1;2315748,1;2319423,1;1106097,1;1091486,1;2315766,1;20494,1;1977365,1;155862,1;2315757,1;2292474,1;1106212,1;1091014,1;20510,1;2315781,1;2319432,1;1091492,1;2297843,1;1091501,1;156668,1;1106102,1;2292474,1;2315748,1;2315793,1;1106097,1;1106204,1;2294942,1;2319426,1;1106105,1;2315751,1;2294933,1;2299416,1;2195031,1;2315772,1;20502,1;20504,1;20504,1;20504,1;1091028,1;20518,1;156673,1;2195029,1;20510,1;2315781,1;20508,1;2294939,1;1367070,1;1091498,1;1106112,1;2017431,1;2319420,1;1106123,1;2319420,1;2294936,1;2315763,1;2322558,1;2322552,1;1091495,1;1091028,1;20508,1;20522,1;20528,1;2322555,1;20500,1;2292471,1;2292471,1;2294936,1;1091492,1;2292471,1;20518,1;20524,1;20532,1;20538,1;20550,1;2315775,1;2315787,1;2315757,1;2294933,1;2322567,1;2322561,1;20530,1;20530,1;1106123,1;1106092,1;2322552,1;1091489,1;2292480,1;1106221,1;2322567,1;1091495,1;2315751,1;2322564,1;20496,1;1106092,1;714154,1;20498,1;1106092,1;155842,1;2315784,1;156693,1;1106166,1;2315784,1;2319423,1;20508,1;20540,1;2319423,1;20508,1;1106116,1;2299429,1;20530,1;1091018,1;2292471,1;1106162,1;1091519,1;1091508,1;2315760,1;2195031,1;2319414,1;1091516,1;1091014,1;1091481,1;2315763,1;2297839,1;1091529,1;1091522,1;1106131,1;2322561,1;1106134,1;2315760,1;1106162,1;2319417,1;2315793,1;20546,1;1091538,1;2294939,1;20546,1;156711,1;1977365,1;156689,1;2315754,1;2294942,1;20508,1;2297839,1;1106218,1;1091519,1;";
        String sohuData = doPost("http://10.13.87.11:8686/recommender/visualize",params,CHARSET);
        System.out.println(sohuData);
        
	}
}
